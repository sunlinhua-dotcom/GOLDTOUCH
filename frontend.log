
> mojin-ai@0.1.0 dev
> next dev

âš  Warning: Next.js inferred your workspace root, but it may not be correct.
 We detected multiple lockfiles and selected the directory of /Users/linhuasun/Desktop/stock/package-lock.json as the root directory.
 To silence this warning, set `turbopack.root` in your Next.js config, or consider removing one of the lockfiles if it's not needed.
   See https://nextjs.org/docs/app/api-reference/config/next-config-js/turbopack#root-directory for more information.
 Detected additional lockfiles: 
   * /Users/linhuasun/Desktop/stock/mojin-ai/package-lock.json

â–² Next.js 16.1.6 (Turbopack)
- Local:         http://localhost:3000
- Network:       http://172.16.0.15:3000
- Environments: .env

âœ“ Starting...
âœ“ Ready in 851ms
â—‹ Compiling /_not-found/page ...
 GET /sw.js 404 in 5.3s (compile: 5.2s, render: 102ms)
 GET / 200 in 2.4s (compile: 2.2s, render: 190ms)
 POST / 200 in 75ms (compile: 7ms, render: 68ms)
 GET / 200 in 27ms (compile: 3ms, render: 24ms)
 POST / 200 in 15ms (compile: 4ms, render: 11ms)
 GET /api/proxy/search?q=m%20t 200 in 3.2s (compile: 144ms, render: 3.0s)
 GET /api/proxy/search?q=%E8%8C%85%E5%8F%B0 200 in 3.0s (compile: 1205Âµs, render: 3.0s)
 GET /report/600519 200 in 1744ms (compile: 1720ms, render: 24ms)
 POST /report/600519 200 in 52ms (compile: 12ms, render: 41ms)
 POST /report/600519 200 in 21ms (compile: 8ms, render: 13ms)
 POST /report/600519 200 in 17ms (compile: 4ms, render: 14ms)
 POST /report/600519 200 in 14ms (compile: 5ms, render: 9ms)
 GET /api/proxy/search?q=%E8%B4%B5%E5%B7%9E%E8%8C%85%E5%8F%B0%20(600519) 200 in 3.0s (compile: 2ms, render: 3.0s)
[Mock SMS] Sending code 1234 to 18017588997
 POST /report/600519 200 in 517ms (compile: 6ms, render: 511ms)
[Auth] å¼€å§‹ç™»å½•æµç¨‹: { phone: '18017588997', code: '1234' }
[Auth] æŸ¥æ‰¾ç”¨æˆ·...
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$phone", { $literal: "18017588997", }, ], }, { $ne: [ "$phone", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, createdAt: 1, updatedAt: 1, freeQuotaUsed: 1, isVip: 1, vipExpireDate: 1, }, }, ])
[Auth] ç”¨æˆ·ä¸å­˜åœ¨,åˆ›å»ºæ–°ç”¨æˆ· phone=18017588997...
prisma:query db.User.insertOne({ phone: "18017588997", createdAt: DateTime("2026-02-01 14:50:09.016 +00:00:00"), updatedAt: DateTime("2026-02-01 14:50:09.016 +00:00:00"), freeQuotaUsed: 0, isVip: false, })
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, }, }, { $project: { _id: 1, phone: 1, createdAt: 1, updatedAt: 1, freeQuotaUsed: 1, isVip: 1, vipExpireDate: 1, }, }, ])
[Auth] æ–°ç”¨æˆ·åˆ›å»ºæˆåŠŸ, ID: 697f682165c4c64af6565fa6
[Auth] è®¾ç½®Cookie...
[Auth] ç™»å½•æˆåŠŸ
 POST /report/600519 200 in 73ms (compile: 7ms, render: 66ms)
 GET /report/600519 200 in 159ms (compile: 3ms, render: 156ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/600519 200 in 20ms (compile: 6ms, render: 15ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, isVip: 1, freeQuotaUsed: 1, }, }, ])
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "600519", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-02-01 2:50:09.508 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, }, }, ])
prisma:query db.User.updateMany({ _id: { $in: [ ObjectId("697f682165c4c64af6565fa6"), ], }, },[{ $set: { updatedAt: { $literal: DateTime("2026-02-01 14:50:09.525 +00:00:00"), }, }, },
{ $set: { freeQuotaUsed: { $add: [ "$freeQuotaUsed", 1, ], }, }, }])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, }, }, { $project: { _id: 1, phone: 1, createdAt: 1, updatedAt: 1, freeQuotaUsed: 1, isVip: 1, vipExpireDate: 1, }, }, ])
 POST /report/600519 200 in 84ms (compile: 4ms, render: 80ms)
 POST /report/600519 200 in 221ms (compile: 9ms, render: 212ms)
[FUNDAMENTALS] å¼€å§‹è·å–è´¢åŠ¡æ•°æ®: 600519
[FUNDAMENTALS] æ•°æ®è·å–æˆåŠŸ: 600519
 POST /report/600519 200 in 1525ms (compile: 6ms, render: 1519ms)
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "600519", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-01-31 14:50:11.363 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $sort: { createdAt: -1, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
[RAG] Fetching news from: https://guba.eastmoney.com/list,600519.html
[AI REQUEST] Generating report for è´µå·èŒ…å°...
[GEMINI REQUEST] Payload built with systemInstruction: true
[GEMINI RESPONSE DATA] {"candidates":[{"content":{"role":"model","parts":[{"text":"{\n  \"ai_score\": 62,\n  \"signal\": \"è§‚æœ› (Hold/Watch)\",\n  \"strategy\": {\n    \"timeframe\": \"çŸ­æœŸ(4-12å‘¨)\",\n    \"rationale\": \"è™½ç„¶åŸºæœ¬é¢å¼ºåŠ²ä¸”ROEç»´æŒé«˜ä½ï¼Œä½†è‚¡ä»·å—åˆ¶äºé•¿æœŸå‡çº¿(MA120/MA250)å‹åˆ¶ï¼Œä¸”ä¸»åŠ›èµ„é‡‘å‘ˆç°å‡€æµå‡ºæ€åŠ¿ï¼ŒçŸ­æœŸç¼ºä¹ä¸Šæ”»åŠ¨èƒ½ã€‚\",\n    \"key_levels\": {\n      \"support\": \"1386 (MA20åŠ¨æ€æ”¯æ’‘)\",\n      \"resistance\": \"1419 (MA120é•¿æœŸå‹åŠ›)\",\n      \"stop_loss\": \"1369 (è·Œç ´MA5åŠè¿‘æœŸæ”¯æ’‘)\"\n    }\n  },\n  \"data_evidence\": {\n    \"capital_flow\": \"ä¸»åŠ›å‡€æµå‡º4.49äº¿ï¼Œä¸”é£Ÿå“é¥®æ–™æ¿å—æ•´ä½“æµå‡º
[AI RESPONSE]Length: 2105 chars.Snippet: {
  "ai_score": 62,
  "signal": "è§‚æœ› (Hold/Watch)",
  "strategy": {
    "timeframe": "çŸ­æœŸ(4-12å‘¨)",
    
prisma:query db.AnalysisReport.insertOne({ stockCode: "600519", stockName: "è´µå·èŒ…å°", type: "PRO", summary: "è§‚æœ› (Hold/Watch)", content: "{
  "ai_score": 62,
  "signal": "è§‚æœ› (Hold/Watch)",
  "strategy": {
    "timeframe": "çŸ­æœŸ(4-12å‘¨)",
    "rationale": "è™½ç„¶åŸºæœ¬é¢å¼ºåŠ²ä¸”ROEç»´æŒé«˜ä½ï¼Œä½†è‚¡ä»·å—åˆ¶äºé•¿æœŸå‡çº¿(MA120/MA250)å‹åˆ¶ï¼Œä¸”ä¸»åŠ›èµ„é‡‘å‘ˆç°å‡€æµå‡ºæ€åŠ¿ï¼ŒçŸ­æœŸç¼ºä¹ä¸Šæ”»åŠ¨èƒ½ã€‚",
    "key_levels": {
      "support": "1386 (MA20åŠ¨æ€æ”¯æ’‘)",
      "resistance": "1419 (MA120é•¿æœŸå‹åŠ›)",
      "stop_loss": "1369 (è·Œç ´MA5åŠè¿‘æœŸæ”¯æ’‘)"
    }
  },
  "data_evidence": {
    "capital_flow": "ä¸»åŠ›å‡€æµå‡º4.49äº¿ï¼Œä¸”é£Ÿå“é¥®æ–™æ¿å—æ•´ä½“æµå‡ºè¶…30äº¿ï¼Œæ˜¾ç¤ºæœºæ„èµ„é‡‘æ­£åœ¨æ’¤ç¦»ã€‚",
    "valuation": "PE(TTM)çº¦27å€ï¼Œä¼°å€¼å¤„äºå†å²åˆç†åŒºé—´ï¼Œä½†åœ¨å½“å‰'é«˜æ¯è‚¡'åå¥½ä¸‹ç¼ºä¹æ˜¾è‘—çš„ä¼°å€¼æ‰©å¼ åŠ¨åŠ›ã€‚",
    "technical_context": "è‚¡ä»·ç°ä»·1401ä½äºMA250(1437)åŠMA120(1419)ï¼Œæ˜ç¡®å¤„äºé•¿æœŸèµ°å¼±è¶‹åŠ¿ä¸­ï¼›ä»Šæ—¥ä¸‹è·Œå—é˜»äºMA60(1405)ã€‚"
  },
  "technical": "### æŠ€æœ¯é¢æ·±åº¦è§£æ„\n\n*   **é•¿æœŸè¶‹åŠ¿ (Bearish)**: è‚¡ä»·è¿è¡Œäº **MA250 (1437.65)** å’Œ **MA120 (1419.30)** ä¸‹æ–¹ï¼Œä¸”å‡çº¿å‘ˆç©ºå¤´æ’åˆ—æˆ–ä¸‹è¡Œæ€åŠ¿ï¼Œç¡®ç«‹äº†é•¿æœŸå¼±åŠ¿æ ¼å±€ã€‚ä¸Šæ–¹å¥—ç‰¢ç›˜å‹åŠ›æ²‰é‡ï¼Œ1420-1440åŒºé—´æ„æˆå¼ºé˜»åŠ›å¸¦ã€‚\n*   **çŸ­æœŸæ³¢æ®µ (Mixed)**: è‚¡ä»·è™½ä½äº **MA20 (1386.85)** ä¹‹ä¸Šï¼Œæ˜¾ç¤ºçŸ­æœŸæœ‰ä¸€å®šæ”¯æ’‘ï¼Œä½†ä»Šæ—¥æ”¶ç›˜ä»·(1401)æœªèƒ½ç«™ç¨³ **MA60 (1405.49)**ï¼Œè¡¨æ˜åå¼¹åœ¨ç”Ÿå‘½çº¿å¤„é­é‡é˜»å‡»ã€‚\n*   **åŠ¨èƒ½æŒ‡æ ‡**: **MACD** æ•°å€¼ä¸º -8.824ï¼Œå¤„äºé›¶è½´ä¸‹æ–¹ï¼Œè¯´æ˜ç©ºå¤´åŠ›é‡ä»å ä¸»å¯¼ã€‚**RSI(6)** ä¸º 67.01ï¼Œæ¥è¿‘è¶…ä¹°åŒºåå›è½ï¼Œæš—ç¤ºçŸ­æœŸåå¼¹åŠ¨èƒ½å¯èƒ½è¡°ç«­ï¼Œéœ€è­¦æƒ•å›è°ƒé£é™©ã€‚",
  "sentiment": "### å¸‚åœºæƒ…ç»ªä¸èµ„é‡‘åˆ†æ\n\n*   **èµ„é‡‘æµå‘**: æ ¸å¿ƒåˆ©ç©ºã€‚å•æ—¥ä¸»åŠ›å‡€æµå‡º4.49äº¿ï¼Œå æ¯”-3.36%ï¼Œä¸”æ•´ä¸ªé£Ÿå“é¥®æ–™æ¿å—é­30äº¿èµ„é‡‘æŠ›å”®ã€‚è¿™ä¸å¸‚åœºä¸Šâ€œé«˜æ¯è‚¡â€å—è¿½æ§ã€ç™½é…’è¢«â€œé»„é…’/ç§‘æŠ€â€åˆ†æµçš„å™äº‹ç›¸å»åˆã€‚\n*   **èˆ†æƒ…å™ªéŸ³**: å¸‚åœºä¸Šå‡ºç°â€œç™½é…’æœ€ä½³ä¹°ç‚¹â€çš„æ•£æˆ·å‘¼å£°ä¸â€œèŒ…å°å¤±è¡€â€çš„åª’ä½“æŠ¥é“å½¢æˆå¯¹å†²ã€‚é€šå¸¸å½“æ•£æˆ·çƒ­åº¦è¿‡é«˜ï¼ˆå¦‚â€œæœ€ä½³ä¹°ç‚¹â€çƒ­åº¦4ä¸‡+ï¼‰è€Œä¸»åŠ›èµ„é‡‘æµå‡ºæ—¶ï¼Œå¾€å¾€æ˜¯è¯±å¤šä¿¡å·ã€‚\n*   **é£æ ¼åˆ‡æ¢**: èµ„è®¯æ˜¾ç¤ºèµ„é‡‘æ­£æµå‘AIï¼ˆåŒ—äº¬æ–°æ”¿ï¼‰åŠä½ä½èµ„æº/å…»æ®–è‚¡ï¼Œç™½é…’ä½œä¸ºä¼ ç»Ÿæ ¸å¿ƒèµ„äº§ï¼Œç›®å‰å¹¶éå¸‚åœºé£å£ã€‚",
  "plan": "### å®æˆ˜äº¤æ˜“è®¡åˆ’\n\n1.  **å·¦ä¾§è§‚å¯Ÿ**: å½“å‰ä¸å®œæ€¥äºæŠ„åº•ã€‚è‚¡ä»·å¤„äºMA60ä¸MA20çš„å¤¹è§’ä¸­ï¼Œæ–¹å‘æœªæ˜ã€‚è‹¥è‚¡ä»·å›è¸© **1386 (MA20)** ä¸”ç¼©é‡ä¼ç¨³ï¼Œå¯è€ƒè™‘æè½»ä»“å°è¯•ï¼Œä½†éœ€ä¸¥è®¾æ­¢æŸã€‚\n2.  **å³ä¾§çªç ´**: åªæœ‰å½“è‚¡ä»·æ”¾é‡æœ‰æ•ˆçªç ´ **1420 (MA120)** å…³é”®å‹åŠ›ä½ï¼Œå¹¶ä¼´éšä¸»åŠ›èµ„é‡‘å›æµï¼ˆå‡€æµå…¥è½¬æ­£ï¼‰ï¼Œæ–¹å¯ç¡®è®¤è¶‹åŠ¿åè½¬ï¼Œå±Šæ—¶å¯åŠ ä»“è·Ÿéšã€‚\n3.  **é˜²å®ˆç­–ç•¥**: è‹¥è·Œç ´ **1369 (MA5)**ï¼Œæ„å‘³ç€çŸ­æœŸåå¼¹ç»“æŸï¼Œåº”ç«‹å³ç¦»åœºè§‚æœ›ï¼Œé˜²æ­¢å‘ä¸‹è·Œç ´å‰ä½ã€‚",
  "risk": "### é£é™©æç¤º\n\n*   **æŠ€æœ¯ç ´ä½é£é™©**: è‹¥æœ‰æ•ˆè·Œç ´MA20 (1386)ï¼Œä¸‹æ–¹æ”¯æ’‘ç¨€ç¼ºï¼Œå¯èƒ½å†æ¬¡æ¢åº•å¯»æ‰¾1350é™„è¿‘çš„æ”¯æ’‘ã€‚\n*   **å®è§‚é£æ ¼é£é™©**: å¸‚åœºå½“å‰åå¥½â€œé«˜è‚¡æ¯â€ä¸â€œç¡¬ç§‘æŠ€â€ï¼Œç™½é…’ä½œä¸ºæ¶ˆè´¹å±æ€§èµ„äº§ï¼Œè‹¥æ— æ³•åœ¨ä¸šç»©ç©ºçª—æœŸè·å¾—å¢é‡èµ„é‡‘ï¼Œå¯èƒ½é¢ä¸´æŒç»­çš„ä¼°å€¼å‹ç¼©ã€‚\n*   **å¥—ç‰¢ç›˜æŠ›å‹**: 1420-1440åŒºé—´å †ç§¯äº†å¤§é‡å‰æœŸå¥—ç‰¢ç­¹ç ï¼Œä»»ä½•æ— é‡çš„åå¼¹è‡³æ­¤åŒºåŸŸéƒ½ææ˜“å¼•å‘è§£å¥—æŠ›å‹ã€‚",
  "deep_insight": "### æ·±åº¦ç ”æŠ¥ï¼šæœºæ„åšå¼ˆä¸ç­¹ç ç»“æ„\n\n*   **ä¸»åŠ›ç­¹ç åˆ†å¸ƒ**: æ ¹æ®å‡çº¿ç³»ç»Ÿåˆ†æï¼Œæœºæ„ä¸»åŠ›åŠé•¿æœŸæŒæœ‰è€…çš„å¹³å‡æˆæœ¬ä¸»è¦é›†ä¸­åœ¨ **1420-1450å…ƒ** (MA120/MA250åŒºåŸŸ)ã€‚å½“å‰ä»·æ ¼(1401)ä½äºä¸»åŠ›æˆæœ¬ä¸‹æ–¹ï¼Œæ„å‘³ç€å¤šæ•°ä¸­é•¿æœŸç­¹ç å¤„äºæµ®äºçŠ¶æ€ï¼Œä¸Šæ–¹æŠ›å‹æé‡ã€‚\n*   **Smart Money åŠ¨å‘**: åŒ—å‘èµ„é‡‘ä¸æœºæ„èµ„é‡‘è¿‘æœŸå‘ˆç°â€œä¸”æˆ˜ä¸”é€€â€è¿¹è±¡ã€‚è™½ç„¶èŒ…å°ROE(24.64%)æä½³ï¼Œä½†åœ¨å­˜é‡åšå¼ˆå¸‚åœºä¸­ï¼Œèµ„é‡‘æ›´å€¾å‘äºä»é«˜ä»·ç™½é…’æµå‘ä½ä½é¢˜æ(å¦‚AIã€å…»æ®–)ã€‚\n*   **æœºæ„è§‚ç‚¹åˆ†æ­§**: å°½ç®¡åŸºæœ¬é¢æ•°æ®ï¼ˆæ¯›åˆ©91%ï¼‰ä¾ç„¶æ— æ•Œï¼Œä½†æœºæ„å¯¹ç™½é…’çš„å®šä»·é€»è¾‘æ­£ä»â€œæˆé•¿å±æ€§â€å‘â€œç±»å€ºå±æ€§â€åˆ‡æ¢ã€‚åœ¨ç¼ºä¹æä»·é¢„æœŸå’Œé”€é‡çˆ†å‘çš„èƒŒæ™¯ä¸‹ï¼Œæœºæ„æ›´æ„¿æ„åœ¨æ›´ä½çš„å®‰å…¨è¾¹é™…ï¼ˆå¦‚PE 20-25å€ï¼‰ä»‹å…¥ï¼Œè€Œéå½“å‰ä½ç½®è¿½é«˜ã€‚"
}", aiScore: 62, deepInsight: "### æ·±åº¦ç ”æŠ¥ï¼šæœºæ„åšå¼ˆä¸ç­¹ç ç»“æ„

*   **ä¸»åŠ›ç­¹ç åˆ†å¸ƒ**: æ ¹æ®å‡çº¿ç³»ç»Ÿåˆ†æï¼Œæœºæ„ä¸»åŠ›åŠé•¿æœŸæŒæœ‰è€…çš„å¹³å‡æˆæœ¬ä¸»è¦é›†ä¸­åœ¨ **1420-1450å…ƒ** (MA120/MA250åŒºåŸŸ)ã€‚å½“å‰ä»·æ ¼(1401)ä½äºä¸»åŠ›æˆæœ¬ä¸‹æ–¹ï¼Œæ„å‘³ç€å¤šæ•°ä¸­é•¿æœŸç­¹ç å¤„äºæµ®äºçŠ¶æ€ï¼Œä¸Šæ–¹æŠ›å‹æé‡ã€‚
*   **Smart Money åŠ¨å‘**: åŒ—å‘èµ„é‡‘ä¸æœºæ„èµ„é‡‘è¿‘æœŸå‘ˆç°â€œä¸”æˆ˜ä¸”é€€â€è¿¹è±¡ã€‚è™½ç„¶èŒ…å°ROE(24.64%)æä½³ï¼Œä½†åœ¨å­˜é‡åšå¼ˆå¸‚åœºä¸­ï¼Œèµ„é‡‘æ›´å€¾å‘äºä»é«˜ä»·ç™½é…’æµå‘ä½ä½é¢˜æ(å¦‚AIã€å…»æ®–)ã€‚
*   **æœºæ„è§‚ç‚¹åˆ†æ­§**: å°½ç®¡åŸºæœ¬é¢æ•°æ®ï¼ˆæ¯›åˆ©91%ï¼‰ä¾ç„¶æ— æ•Œï¼Œä½†æœºæ„å¯¹ç™½é…’çš„å®šä»·é€»è¾‘æ­£ä»â€œæˆé•¿å±æ€§â€å‘â€œç±»å€ºå±æ€§â€åˆ‡æ¢ã€‚åœ¨ç¼ºä¹æä»·é¢„æœŸå’Œé”€é‡çˆ†å‘çš„èƒŒæ™¯ä¸‹ï¼Œæœºæ„æ›´æ„¿æ„åœ¨æ›´ä½çš„å®‰å…¨è¾¹é™…ï¼ˆå¦‚PE 20-25å€ï¼‰ä»‹å…¥ï¼Œè€Œéå½“å‰ä½ç½®è¿½é«˜ã€‚", isUnlocked: false, userId: ObjectId("697f682165c4c64af6565fa6"), createdAt: DateTime("2026-02-01 14:50:58.583 +00:00:00"), })
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f685265c4c64af6565fa7"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, }, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
 POST /report/600519 200 in 47s (compile: 6ms, render: 47s)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/600519 200 in 31ms (compile: 9ms, render: 22ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/600519 200 in 15ms (compile: 3ms, render: 12ms)
âœ“ Compiled in 39ms
 GET / 200 in 53ms (compile: 4ms, render: 49ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST / 200 in 13ms (compile: 2ms, render: 10ms)
 POST / 200 in 311ms (compile: 1543Âµs, render: 310ms)
 GET /api/proxy/search?q=xin%20tiao 200 in 3.0s (compile: 2ms, render: 3.0s)
 GET /api/proxy/search?q=%E5%BF%83%E8%B7%B3 200 in 3.0s (compile: 1113Âµs, render: 3.0s)
 GET /api/proxy/search?q=xin%20dogn 200 in 3.0s (compile: 1739Âµs, render: 3.0s)
 GET /api/proxy/search?q=%E5%BF%83%E5%8A%A8 200 in 3.0s (compile: 1223Âµs, render: 3.0s)
 POST / 200 in 214ms (compile: 2ms, render: 212ms)
 GET /report/02400.HK 200 in 163ms (compile: 105ms, render: 58ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/02400.HK 200 in 52ms (compile: 4ms, render: 49ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/02400.HK 200 in 17ms (compile: 3ms, render: 14ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, isVip: 1, freeQuotaUsed: 1, }, }, ])
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "02400.HK", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-02-01 2:53:12.66 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, }, }, ])
prisma:query db.User.updateMany({ _id: { $in: [ ObjectId("697f682165c4c64af6565fa6"), ], }, },[{ $set: { updatedAt: { $literal: DateTime("2026-02-01 14:53:12.664 +00:00:00"), }, }, },
{ $set: { freeQuotaUsed: { $add: [ "$freeQuotaUsed", 1, ], }, }, }])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, }, }, { $project: { _id: 1, phone: 1, createdAt: 1, updatedAt: 1, freeQuotaUsed: 1, isVip: 1, vipExpireDate: 1, }, }, ])
 POST /report/02400.HK 200 in 26ms (compile: 3ms, render: 23ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, isVip: 1, freeQuotaUsed: 1, }, }, ])
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "02400.HK", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-02-01 2:53:12.706 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, }, }, ])
prisma:query db.User.updateMany({ _id: { $in: [ ObjectId("697f682165c4c64af6565fa6"), ], }, },[{ $set: { updatedAt: { $literal: DateTime("2026-02-01 14:53:12.71 +00:00:00"), }, }, },
{ $set: { freeQuotaUsed: { $add: [ "$freeQuotaUsed", 1, ], }, }, }])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, }, }, { $project: { _id: 1, phone: 1, createdAt: 1, updatedAt: 1, freeQuotaUsed: 1, isVip: 1, vipExpireDate: 1, }, }, ])
 POST /report/02400.HK 200 in 37ms (compile: 7ms, render: 30ms)
 POST /report/02400.HK 200 in 212ms (compile: 4ms, render: 208ms)
 POST /report/02400.HK 200 in 65ms (compile: 4ms, render: 62ms)
[FUNDAMENTALS] å¼€å§‹è·å–è´¢åŠ¡æ•°æ®: 02400
[FUNDAMENTALS] æ•°æ®è·å–æˆåŠŸ: 02400
 POST /report/02400.HK 200 in 760ms (compile: 3ms, render: 758ms)
[FUNDAMENTALS] å¼€å§‹è·å–è´¢åŠ¡æ•°æ®: 02400
[FUNDAMENTALS] æ•°æ®è·å–æˆåŠŸ: 02400
 POST /report/02400.HK 200 in 345ms (compile: 3ms, render: 341ms)
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "02400.HK", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-01-31 14:53:14.178 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $sort: { createdAt: -1, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
[RAG] Fetching news from: https://guba.eastmoney.com/list,hk02400.html
[AI REQUEST] Generating report for å¿ƒåŠ¨å…¬å¸...
[GEMINI REQUEST] Payload built with systemInstruction: true
[GEMINI RESPONSE DATA] {"candidates":[{"content":{"role":"model","parts":[{"text":"{\n  \"ai_score\": 82,\n  \"signal\": \"çœ‹å¤š\",\n  \"strategy\": {\n    \"timeframe\": \"çŸ­æœŸ(4-12å‘¨)\",\n    \"rationale\": \"é•¿æœŸå‡çº¿å¤šå¤´æ’åˆ—ç¡®è®¤ç‰›å¸‚æ ¼å±€ï¼Œé«˜ROEæ”¯æ’‘åŸºæœ¬é¢ï¼Œå…¬å¸å›è´­è¡Œä¸ºä¸ºè‚¡ä»·æä¾›å®‰å…¨å«ï¼Œå½“å‰å›è°ƒå³ä¹°ç‚¹ã€‚\",\n    \"key_levels\": {\n      \"support\": \"80.78 (MA20åŠ¨æ€æ”¯æ’‘)\",\n      \"resistance\": \"92.50 (è¿‘æœŸæ³¢æ®µé«˜ç‚¹é¢„ä¼°)\",\n      \"stop_loss\": \"78.00 (è·Œç ´æœˆçº¿é˜²å®ˆ)\"\n    }\n  },\n  \"data_evidence\": {\n    \"capital_flow\": \"æ•°æ®æ˜¾ç¤ºå…¬å¸è¿‘æœŸè€—èµ„çº¦198ä¸‡æ¸¯å…ƒå›è´­ï¼Œè¡¨æ˜å†…éƒ¨èµ„é‡‘çœ‹å¥½ï¼›æ•£æˆ·æƒ…ç»ªææ…Œï¼Œå¾€å¾€æ˜¯ä¸»åŠ›æ´—ç›˜ç‰¹å¾ã€‚\",\n  
[AI RESPONSE]Length: 1808 chars.Snippet: {
  "ai_score": 82,
  "signal": "çœ‹å¤š",
  "strategy": {
    "timeframe": "çŸ­æœŸ(4-12å‘¨)",
    "rationale": 
prisma:query db.AnalysisReport.insertOne({ stockCode: "02400.HK", stockName: "å¿ƒåŠ¨å…¬å¸", type: "PRO", summary: "çœ‹å¤š", content: "{
  "ai_score": 82,
  "signal": "çœ‹å¤š",
  "strategy": {
    "timeframe": "çŸ­æœŸ(4-12å‘¨)",
    "rationale": "é•¿æœŸå‡çº¿å¤šå¤´æ’åˆ—ç¡®è®¤ç‰›å¸‚æ ¼å±€ï¼Œé«˜ROEæ”¯æ’‘åŸºæœ¬é¢ï¼Œå…¬å¸å›è´­è¡Œä¸ºä¸ºè‚¡ä»·æä¾›å®‰å…¨å«ï¼Œå½“å‰å›è°ƒå³ä¹°ç‚¹ã€‚",
    "key_levels": {
      "support": "80.78 (MA20åŠ¨æ€æ”¯æ’‘)",
      "resistance": "92.50 (è¿‘æœŸæ³¢æ®µé«˜ç‚¹é¢„ä¼°)",
      "stop_loss": "78.00 (è·Œç ´æœˆçº¿é˜²å®ˆ)"
    }
  },
  "data_evidence": {
    "capital_flow": "æ•°æ®æ˜¾ç¤ºå…¬å¸è¿‘æœŸè€—èµ„çº¦198ä¸‡æ¸¯å…ƒå›è´­ï¼Œè¡¨æ˜å†…éƒ¨èµ„é‡‘çœ‹å¥½ï¼›æ•£æˆ·æƒ…ç»ªææ…Œï¼Œå¾€å¾€æ˜¯ä¸»åŠ›æ´—ç›˜ç‰¹å¾ã€‚",
    "valuation": "é«˜æˆé•¿ä¼°å€¼é€»è¾‘ã€‚ROEé«˜è¾¾38.43%æ˜¾ç¤ºæå¼ºçš„ç›ˆåˆ©èƒ½åŠ›ï¼Œè™½PEè¾ƒé«˜ä½†è¢«é«˜å¢é€Ÿæ¶ˆåŒ–ã€‚",
    "technical_context": "è‚¡ä»·ä½äºMA250(ç‰›ç†Šçº¿)åŠMA120ä¹‹ä¸Šï¼Œé•¿æœŸè¶‹åŠ¿å¼ºåŠ²ï¼›çŸ­æœŸè·Œç ´MA5ï¼Œé¢ä¸´æŠ€æœ¯æ€§å›è°ƒä¿®å¤ã€‚"
  },
  "technical": "### è¶‹åŠ¿å½¢æ€\n*   **é•¿æœŸæ ¼å±€**ï¼šè‚¡ä»·(85.95)è¿œé«˜äºMA250(56.19)ï¼Œä¸”MA20>MA60>MA120ï¼Œå‘ˆç°å…¸å‹çš„**å¤šå¤´æ’åˆ—**ï¼Œé•¿æœŸä¸Šæ¶¨è¶‹åŠ¿ç¡®ç«‹ã€‚\n*   **çŸ­æœŸè°ƒæ•´**ï¼šç°ä»·è·Œç ´MA5(86.34)ï¼Œä¸”RSI(6)å›è½è‡³64.65ï¼Œè¯´æ˜çŸ­æœŸè¶…ä¹°æƒ…ç»ªæ­£åœ¨é‡Šæ”¾ï¼Œå±äºè‰¯æ€§å›è°ƒã€‚\n*   **åŠ¨èƒ½æŒ‡æ ‡**ï¼šMACDæ•°å€¼ä¸ºæ­£(4.683)ï¼Œå¤šå¤´åŠ¨èƒ½ä¾ç„¶ä¸»å¯¼ï¼Œä½†éœ€è­¦æƒ•æ­»å‰é£é™©ï¼Œè‹¥èƒ½åœ¨MA20(80.78)é™„è¿‘ä¼ç¨³ï¼Œå°†æ„æˆæä½³çš„â€œç©ºä¸­åŠ æ²¹â€å½¢æ€ã€‚",
  "sentiment": "### å¸‚åœºæƒ…ç»ªä¸åšå¼ˆ\n*   **æ•£æˆ·ææ…Œ**ï¼šèˆ†æƒ…æ˜¾ç¤ºæ•£æˆ·å‡ºç°â€œè·‘äº†è·‘äº†â€ã€â€œæœ‰çŒ«è…»â€ç­‰ææ…Œè¨€è®ºï¼Œä¸”çƒ­åº¦è¾ƒé«˜ã€‚åœ¨ä¸Šå‡è¶‹åŠ¿ä¸­ï¼Œæ•£æˆ·çš„ææ…Œå¾€å¾€å¯¹åº”ä¸»åŠ›çš„æ´—ç›˜ã€‚\n*   **èªæ˜é’±ä¿¡å·**ï¼šå…¬å¸åœ¨1æœˆ30æ—¥è¿›è¡Œå›è´­ï¼ˆå‡ä»·çº¦86æ¸¯å…ƒï¼‰ï¼Œè¯´æ˜ç®¡ç†å±‚è®¤ä¸ºå½“å‰ä»·æ ¼å…·å¤‡æŠ•èµ„ä»·å€¼ï¼Œè¿™æ˜¯æœ€ç›´æ¥çš„**å¤šå¤´èƒŒä¹¦**ã€‚\n*   **èµ„é‡‘åšå¼ˆ**ï¼šå½“å‰å¤„äºâ€œæ•£æˆ·ç¦»åœºã€äº§ä¸šèµ„æœ¬è¿›åœºâ€çš„ç­¹ç äº¤æ¢é˜¶æ®µï¼Œåˆ©äºåç»­æ‹‰å‡ã€‚",
  "plan": "### å®æˆ˜äº¤æ˜“è®¡åˆ’\n1.  **è§‚å¯ŸæœŸ**ï¼šå‘¨åˆå…³æ³¨è‚¡ä»·åœ¨ **80.80 - 82.00** åŒºé—´çš„æ‰¿æ¥åŠ›åº¦ï¼Œæ­¤å¤„æ¥è¿‘MA20ç”Ÿå‘½çº¿ã€‚\n2.  **ä¹°å…¥ç­–ç•¥**ï¼š\n    *   **å·¦ä¾§åŸ‹ä¼**ï¼šè‹¥æ€¥è·Œè‡³81.00é™„è¿‘ï¼Œå¯å°è¯•å»ºç«‹åº•ä»“ï¼ˆ2-3æˆï¼‰ã€‚\n    *   **å³ä¾§ç¡®è®¤**ï¼šè‹¥è‚¡ä»·é‡æ–°ç«™ä¸ŠMA5ï¼ˆçº¦86.50ï¼‰å¹¶ä¼´éšæˆäº¤é‡æ”¾å¤§ï¼Œå¯åŠ ä»“è¿½å‡»ã€‚\n3.  **é˜²å®ˆç­–ç•¥**ï¼šä¸¥æ ¼æ‰§è¡Œ **78.00** æ­¢æŸï¼Œä¸€æ—¦æœ‰æ•ˆè·Œç ´20æ—¥å‡çº¿ï¼Œè¯´æ˜çŸ­æœŸè¶‹åŠ¿è½¬å¼±ï¼Œéœ€ç¦»åœºè§‚æœ›ã€‚",
  "risk": "### é£é™©æç¤º\n*   **ä¼°å€¼æº¢ä»·**ï¼šè™½ç„¶ROEæé«˜ï¼Œä½†é«˜æˆé•¿è‚¡å¯¹æµåŠ¨æ€§æ•æ„Ÿï¼Œè‹¥æ¸¯è‚¡å¤§ç›˜å›è°ƒï¼Œé«˜ä¼°å€¼æ ‡çš„æ€è·Œé£é™©å¤§ã€‚\n*   **è·åˆ©ç›˜å›å**ï¼šå‰æœŸæ¶¨å¹…è¾ƒå¤§ï¼ˆç¦»MA250ä¹–ç¦»ç‡é«˜ï¼‰ï¼Œè‹¥å¸‚åœºæƒ…ç»ªè½¬å†·ï¼Œå¯èƒ½å¼•å‘æ·±åº¦å›è°ƒè‡³MA60ï¼ˆ71.26ï¼‰ä¸€çº¿ã€‚\n*   **æ”¿ç­–é£é™©**ï¼šæ¸¸æˆè¡Œä¸šæ”¿ç­–æ³¢åŠ¨å¯èƒ½å¯¹çŸ­æœŸæƒ…ç»ªé€ æˆå‰§çƒˆå†²å‡»ã€‚",
  "deep_insight": "### æ·±åº¦ç ”æŠ¥ï¼šæœºæ„ä¸ç­¹ç è§†è§’\n*   **ä¸»åŠ›ç­¹ç åˆ†å¸ƒ**ï¼š\n    *   å½“å‰è‚¡ä»·ä½äº**è·åˆ©ç›˜å¯†é›†åŒº**ï¼Œä¸»åŠ›æˆæœ¬é¢„ä¼°åœ¨65-70å…ƒåŒºé—´ï¼ˆMA60é™„è¿‘ï¼‰ã€‚\n    *   è¿‘æœŸå›è´­å‡ä»·~86å…ƒï¼Œæ„æˆäº†çŸ­æœŸçš„**â€œæ”¿ç­–åº•â€**ï¼Œä¸»åŠ›å¾ˆéš¾åœ¨å›è´­ä»·ä¸‹æ–¹å¤§å¹…å‡ºè´§ã€‚\n*   **åŸºæœ¬é¢é”šç‚¹**ï¼š\n    *   **ROE 38.43%** æ˜¯æ ¸å¿ƒæŠ¤åŸæ²³ï¼Œåœ¨æ¸¯è‚¡TMTæ¿å—ä¸­å±äºç¨€ç¼ºçš„ä¼˜è´¨èµ„äº§ï¼Œè¿™å°†æŒç»­å¸å¼•é•¿çº¿æœºæ„èµ„é‡‘é…ç½®ã€‚\n    *   æ¯›åˆ©ç‡è¿‘70%ï¼Œè¯´æ˜äº§å“å®šä»·æƒæå¼ºï¼ŒæŠ—é£é™©èƒ½åŠ›ä¼˜äºåŒä¸šã€‚\n*   **æœºæ„è§‚ç‚¹æ¨æ¼”**ï¼š\n    *   æœºæ„å½“å‰ç­–ç•¥å€¾å‘äº**â€œé”ä»“æŒæœ‰â€**ï¼Œåˆ©ç”¨å¸‚åœºæ³¢åŠ¨æ¸…æ´—æµ®ç­¹ã€‚åªè¦ä¸è·Œç ´ä¸­æœŸè¶‹åŠ¿çº¿ï¼ˆMA60ï¼‰ï¼Œæœºæ„èµ„é‡‘å¤§æ¦‚ç‡ä¸ä¼šå¤§è§„æ¨¡æ’¤é€€ã€‚"
}", aiScore: 82, deepInsight: "### æ·±åº¦ç ”æŠ¥ï¼šæœºæ„ä¸ç­¹ç è§†è§’
*   **ä¸»åŠ›ç­¹ç åˆ†å¸ƒ**ï¼š
    *   å½“å‰è‚¡ä»·ä½äº**è·åˆ©ç›˜å¯†é›†åŒº**ï¼Œä¸»åŠ›æˆæœ¬é¢„ä¼°åœ¨65-70å…ƒåŒºé—´ï¼ˆMA60é™„è¿‘ï¼‰ã€‚
    *   è¿‘æœŸå›è´­å‡ä»·~86å…ƒï¼Œæ„æˆäº†çŸ­æœŸçš„**â€œæ”¿ç­–åº•â€**ï¼Œä¸»åŠ›å¾ˆéš¾åœ¨å›è´­ä»·ä¸‹æ–¹å¤§å¹…å‡ºè´§ã€‚
*   **åŸºæœ¬é¢é”šç‚¹**ï¼š
    *   **ROE 38.43%** æ˜¯æ ¸å¿ƒæŠ¤åŸæ²³ï¼Œåœ¨æ¸¯è‚¡TMTæ¿å—ä¸­å±äºç¨€ç¼ºçš„ä¼˜è´¨èµ„äº§ï¼Œè¿™å°†æŒç»­å¸å¼•é•¿çº¿æœºæ„èµ„é‡‘é…ç½®ã€‚
    *   æ¯›åˆ©ç‡è¿‘70%ï¼Œè¯´æ˜äº§å“å®šä»·æƒæå¼ºï¼ŒæŠ—é£é™©èƒ½åŠ›ä¼˜äºåŒä¸šã€‚
*   **æœºæ„è§‚ç‚¹æ¨æ¼”**ï¼š
    *   æœºæ„å½“å‰ç­–ç•¥å€¾å‘äº**â€œé”ä»“æŒæœ‰â€**ï¼Œåˆ©ç”¨å¸‚åœºæ³¢åŠ¨æ¸…æ´—æµ®ç­¹ã€‚åªè¦ä¸è·Œç ´ä¸­æœŸè¶‹åŠ¿çº¿ï¼ˆMA60ï¼‰ï¼Œæœºæ„èµ„é‡‘å¤§æ¦‚ç‡ä¸ä¼šå¤§è§„æ¨¡æ’¤é€€ã€‚", isUnlocked: false, userId: ObjectId("697f682165c4c64af6565fa6"), createdAt: DateTime("2026-02-01 14:53:52.914 +00:00:00"), })
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f690065c4c64af6565fa8"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, }, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
 POST /report/02400.HK 200 in 38.8s (compile: 6ms, render: 38.8s)
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "02400.HK", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-01-31 14:53:52.937 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $sort: { createdAt: -1, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
[DB HIT] Returning persisted report for 02400.HK
 POST /report/02400.HK 200 in 12ms (compile: 4ms, render: 8ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/02400.HK 200 in 17ms (compile: 5ms, render: 12ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/02400.HK 200 in 14ms (compile: 3ms, render: 11ms)
âœ“ Compiled in 64ms
âœ“ Compiled in 63ms
âœ“ Compiled in 55ms
 GET / 200 in 37ms (compile: 4ms, render: 33ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST / 200 in 16ms (compile: 4ms, render: 12ms)
 POST / 200 in 199ms (compile: 3ms, render: 197ms)
 GET /report/920982.BJ 200 in 191ms (compile: 118ms, render: 73ms)
 GET /api/proxy/search?q=j%20b 200 in 3.0s (compile: 1914Âµs, render: 3.0s)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/920982.BJ 200 in 45ms (compile: 7ms, render: 38ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/920982.BJ 200 in 20ms (compile: 5ms, render: 15ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, isVip: 1, freeQuotaUsed: 1, }, }, ])
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "920982.BJ", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-02-01 2:57:31.906 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, }, }, ])
prisma:query db.User.updateMany({ _id: { $in: [ ObjectId("697f682165c4c64af6565fa6"), ], }, },[{ $set: { updatedAt: { $literal: DateTime("2026-02-01 14:57:31.909 +00:00:00"), }, }, },
{ $set: { freeQuotaUsed: { $add: [ "$freeQuotaUsed", 1, ], }, }, }])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, }, }, { $project: { _id: 1, phone: 1, createdAt: 1, updatedAt: 1, freeQuotaUsed: 1, isVip: 1, vipExpireDate: 1, }, }, ])
 POST /report/920982.BJ 200 in 27ms (compile: 4ms, render: 24ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, isVip: 1, freeQuotaUsed: 1, }, }, ])
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "920982.BJ", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-02-01 2:57:31.948 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, }, }, ])
prisma:query db.User.updateMany({ _id: { $in: [ ObjectId("697f682165c4c64af6565fa6"), ], }, },[{ $set: { updatedAt: { $literal: DateTime("2026-02-01 14:57:31.954 +00:00:00"), }, }, },
{ $set: { freeQuotaUsed: { $add: [ "$freeQuotaUsed", 1, ], }, }, }])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, }, }, { $project: { _id: 1, phone: 1, createdAt: 1, updatedAt: 1, freeQuotaUsed: 1, isVip: 1, vipExpireDate: 1, }, }, ])
 POST /report/920982.BJ 200 in 56ms (compile: 7ms, render: 49ms)
 POST /report/920982.BJ 200 in 133ms (compile: 2ms, render: 131ms)
 POST /report/920982.BJ 200 in 88ms (compile: 3ms, render: 86ms)
[FUNDAMENTALS] å¼€å§‹è·å–è´¢åŠ¡æ•°æ®: 920982
 GET /api/proxy/search?q=j%20b%20s%20w 200 in 3.0s (compile: 1791Âµs, render: 3.0s)
 GET /api/proxy/search?q=%E9%94%A6%E6%B3%A2%E7%94%9F%E7%89%A9 200 in 3.0s (compile: 1995Âµs, render: 3.0s)
[FUNDAMENTALS] æ•°æ®è·å–æˆåŠŸ: 920982
 POST /report/920982.BJ 200 in 1055ms (compile: 3ms, render: 1052ms)
[FUNDAMENTALS] å¼€å§‹è·å–è´¢åŠ¡æ•°æ®: 920982
[FUNDAMENTALS] æ•°æ®è·å–æˆåŠŸ: 920982
 POST /report/920982.BJ 200 in 963ms (compile: 4ms, render: 959ms)
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "920982.BJ", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-01-31 14:57:34.294 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $sort: { createdAt: -1, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
[RAG] Fetching news from: https://guba.eastmoney.com/list,920982.html
[AI REQUEST] Generating report for é”¦æ³¢ç”Ÿç‰©...
[GEMINI REQUEST] Payload built with systemInstruction: true
[GEMINI RESPONSE DATA] {"candidates":[{"content":{"role":"model","parts":[{"text":"{\n  \"ai_score\": 58,\n  \"signal\": \"è§‚æœ› (ç­‰å¾…æ­¢è·Œ)\",\n  \"strategy\": {\n    \"timeframe\": \"çŸ­æœŸ(4-12å‘¨)\",\n    \"rationale\": \"åŸºæœ¬é¢æä¼˜(é«˜ROE/é«˜æ¯›åˆ©)ä½†æŠ€æœ¯é¢æå¼±(ç©ºå¤´æ’åˆ—)ï¼Œè‚¡ä»·å¤„äºå¯»æ‰¾å¸‚åœºåº•éƒ¨çš„è¿‡ç¨‹ï¼Œå°šæœªå‡ºç°æ˜ç¡®æ­¢è·Œä¿¡å·ã€‚\",\n    \"key_levels\": {\n      \"support\": \"210.00 (æ•´æ•°å¿ƒç†å…³å£/ä¸‹æ–¹æ— å‡çº¿æ”¯æ’‘)\",\n      \"resistance\": \"232.99 (MA20ç”Ÿå‘½çº¿å‹åŠ›)\",\n      \"stop_loss\": \"215.00 (è‹¥å°è¯•å·¦ä¾§åšå¼ˆçš„æé™é˜²å®ˆä½)\"\n    }\n  },\n  \"data_evidence\": {\n    \"capital_flow\": \"ä¸»åŠ›èµ„é‡‘æ˜¾è‘—æµå‡º (-0.28äº¿ï¼Œå æ¯”-17.8
[AI RESPONSE]Length: 2077 chars.Snippet: {
  "ai_score": 58,
  "signal": "è§‚æœ› (ç­‰å¾…æ­¢è·Œ)",
  "strategy": {
    "timeframe": "çŸ­æœŸ(4-12å‘¨)",
    "rati 
prisma:query db.AnalysisReport.insertOne({ stockCode: "920982.BJ", stockName: "é”¦æ³¢ç”Ÿç‰©", type: "PRO", summary: "è§‚æœ› (ç­‰å¾…æ­¢è·Œ)", content: "{
  "ai_score": 58,
  "signal": "è§‚æœ› (ç­‰å¾…æ­¢è·Œ)",
  "strategy": {
    "timeframe": "çŸ­æœŸ(4-12å‘¨)",
    "rationale": "åŸºæœ¬é¢æä¼˜(é«˜ROE/é«˜æ¯›åˆ©)ä½†æŠ€æœ¯é¢æå¼±(ç©ºå¤´æ’åˆ—)ï¼Œè‚¡ä»·å¤„äºå¯»æ‰¾å¸‚åœºåº•éƒ¨çš„è¿‡ç¨‹ï¼Œå°šæœªå‡ºç°æ˜ç¡®æ­¢è·Œä¿¡å·ã€‚",
    "key_levels": {
      "support": "210.00 (æ•´æ•°å¿ƒç†å…³å£/ä¸‹æ–¹æ— å‡çº¿æ”¯æ’‘)",
      "resistance": "232.99 (MA20ç”Ÿå‘½çº¿å‹åŠ›)",
      "stop_loss": "215.00 (è‹¥å°è¯•å·¦ä¾§åšå¼ˆçš„æé™é˜²å®ˆä½)"
    }
  },
  "data_evidence": {
    "capital_flow": "ä¸»åŠ›èµ„é‡‘æ˜¾è‘—æµå‡º (-0.28äº¿ï¼Œå æ¯”-17.83%)ï¼Œæ˜¾ç¤ºæœºæ„æŠ›å‹æ²‰é‡ã€‚",
    "valuation": "é«˜æ™¯æ°”åº¦èµ›é“ï¼ŒROE 32.25% åŠ æ¯›åˆ©ç‡ 90.80% æ˜¾ç¤ºæå¼ºç›ˆåˆ©èƒ½åŠ›ï¼Œä½†å½“å‰å¤„äºæ€ä¼°å€¼é˜¶æ®µã€‚",
    "technical_context": "è‚¡ä»·ä½äºæ‰€æœ‰å‡çº¿ä¸‹æ–¹ (Price < MA5 < MA20 < MA250)ï¼Œå±äºå…¸å‹çš„ç©ºå¤´ä¸‹è·Œè¶‹åŠ¿ã€‚"
  },
  "technical": "### ğŸ“‰ è¶‹åŠ¿æ·±åº¦è§£æ„\n*   **é•¿æœŸè¶‹åŠ¿ (æå¼±)**ï¼šè‚¡ä»· (221.39) è¿œä½äº **MA250 (274.00)** å’Œ **MA120 (263.06)**ï¼Œä¸”å‡çº¿å‘ˆå‘æ•£å‘ä¸‹å½¢æ€ï¼Œç¡®è®¤å¤„äºé•¿æœŸç†Šå¸‚è°ƒæ•´é€šé“ä¸­ï¼Œä¸Šæ–¹å¥—ç‰¢ç›˜æé‡ã€‚\n*   **çŸ­æœŸåŠ¨èƒ½ (è¶…å–)**ï¼š**MA5 (226.37)** æˆä¸ºå³æ—¶å‹åŠ›ï¼Œè‚¡ä»·æ²¿5æ—¥çº¿å•è¾¹ä¸‹è·Œã€‚**RSI(6) ä¸º 36.30**ï¼Œæ¥è¿‘30çš„è¶…å–åŒºï¼Œæš—ç¤ºçŸ­æœŸå¯èƒ½æœ‰æŠ€æœ¯æ€§åæŠ½ï¼Œä½†ç¼ºä¹é‡èƒ½é…åˆã€‚\n*   **æŒ‡æ ‡çŠ¶æ€**ï¼šMACD (-4.392) åœ¨é›¶è½´ä¸‹æ–¹æŒç»­å‘æ•£ï¼Œç©ºå¤´åŠ¨èƒ½å°šæœªè¡°ç«­ï¼Œæš‚æ— åº•èƒŒç¦»è¿¹è±¡ã€‚",
  "sentiment": "### ğŸŒª å¸‚åœºæƒ…ç»ªä¸èµ„é‡‘\n*   **æ•£æˆ·å¿ƒæ€å´©å¡Œ**ï¼šè¯„è®ºåŒºå……æ–¥â€œ300æœ¬é‡‘ä½•æ—¶å›æœ¬â€ã€â€œå½“é’‰å­æˆ·â€ç­‰è¨€è®ºï¼Œæ˜¾ç¤ºæ•£æˆ·å¤„äºæ·±åº¦è¢«å¥—åçš„æ— å¥ˆä¸ææ…Œé˜¶æ®µï¼Œè¿™æ˜¯åº•éƒ¨ç‰¹å¾ä¹‹ä¸€ï¼Œä½†å¾€å¾€æ„å‘³ç€ç£¨åº•æ—¶é—´æ¼«é•¿ã€‚\n*   **åˆ©å¥½é’åŒ–**ï¼šå…¬å¸è·å¾—â€œäººä½“ç»“æ„æ€§ææ–™â€å‘æ˜ä¸“åˆ©ï¼Œä¸”é”€å”®çƒ­åº¦é«˜ï¼Œä½†è‚¡ä»·ä¸æ¶¨åè·Œ (-2.42%)ï¼Œå±äºå…¸å‹çš„â€œåˆ©å¥½å‡ºå°½â€æˆ–å¸‚åœºæ— è§†åˆ©å¥½ï¼Œæ˜¯å¼±åŠ¿å¸‚åœºçš„æ˜¾è‘—ç‰¹å¾ã€‚\n*   **èµ„é‡‘æ€åº¦**ï¼šä¸»åŠ›èµ„é‡‘å‡€æµå‡ºå æ¯”é«˜è¾¾17.83%ï¼Œè¯´æ˜å¤§èµ„é‡‘ä»åœ¨åšå†³ç¦»åœºï¼Œæœªè§æ‰¿æ¥æ„æ„¿ã€‚",
  "plan": "### âš”ï¸ å®æˆ˜äº¤æ˜“è®¡åˆ’\n1.  **å·¦ä¾§äº¤æ˜“è€… (æ¿€è¿›)**ï¼šå½“å‰ä¸å®œç›´æ¥æ¥é£åˆ€ã€‚è‹¥è‚¡ä»·æ€¥è·Œè‡³ **200-210** åŒºé—´ä¸” RSI < 25ï¼Œå¯å°è¯•æå°ä»“ä½åšå¼ˆè¶…è·Œåå¼¹ï¼Œå¿«è¿›å¿«å‡ºã€‚\n2.  **å³ä¾§äº¤æ˜“è€… (ç¨³å¥)**ï¼š**ä¸¥ç¦å…¥åœº**ã€‚å¿…é¡»ç­‰å¾…è‚¡ä»·é‡æ–°ç«™ä¸Š **MA20 (232.99)** ä¸”å‡çº¿å¼€å§‹èµ°å¹³ä¸Šç¿˜ï¼Œæˆ–è€…å‡ºç°æ”¾é‡å¤§é˜³çº¿åæ²¡çŸ­æœŸè·Œå¹…åï¼Œå†è€ƒè™‘è·Ÿéšè¶‹åŠ¿ã€‚\n3.  **æŒä»“å¤„ç†**ï¼šè‹¥æŒæœ‰è¢«å¥—ï¼Œåå¼¹è‡³ **MA20 (233å·¦å³)** é™„è¿‘æ˜¯å‡ä»“é™ä½æˆæœ¬çš„æœºä¼šï¼Œåˆ‡å‹¿åœ¨ä¸‹è·Œè¶‹åŠ¿ä¸­ç›²ç›®è¡¥ä»“ã€‚",
  "risk": "### âš ï¸ æ ¸å¿ƒé£é™©æç¤º\n*   **æµåŠ¨æ€§é£é™©**ï¼šä½œä¸ºåŒ—äº¤æ‰€ (920xxx) æ ‡çš„ï¼ŒæµåŠ¨æ€§é€šå¸¸å¼±äºä¸»æ¿ï¼Œä¸€æ—¦ä¸‹è·Œè¶‹åŠ¿å½¢æˆï¼Œå¯èƒ½å‡ºç°æ— é‡é˜´è·Œï¼Œéš¾ä»¥å‡ºé€ƒã€‚\n*   **æŠ€æœ¯ç ´ä½**ï¼šä¸‹æ–¹å·²æ— å‡çº¿æ”¯æ’‘ï¼Œè‹¥è·Œç ´220æ•´æ•°å…³å£ï¼Œå¯èƒ½å¼•å‘æ–°ä¸€è½®ææ…Œæ€§æŠ›ç›˜ï¼ˆç›®æ ‡æŒ‡å‘æ–°é—»ä¸­æåŠçš„ç©ºå¤´ç›®æ ‡179ï¼‰ã€‚\n*   **ä¸šç»©ä¸ç¡®å®šæ€§**ï¼šå¸‚åœºå¯¹ä¸šç»©é¢„å‘Šè¿Ÿè¿Ÿæœªå‡ºè¡¨ç°å‡ºç„¦è™‘ï¼Œéœ€è­¦æƒ•ä¸šç»©ä¸åŠé¢„æœŸçš„â€œé»‘å¤©é¹…â€ã€‚",
  "deep_insight": "### ğŸ” æ·±åº¦ç ”æŠ¥ï¼šåŸºæœ¬é¢ä¸ç­¹ç åšå¼ˆ\n*   **ä¸»åŠ›ç­¹ç åˆ†å¸ƒ**ï¼š\n    *   å½“å‰è‚¡ä»· (221.39) è¿œä½äº MA120 (263) å’Œ MA250 (274)ï¼Œæ„å‘³ç€è¿‡å»åŠå¹´è‡³ä¸€å¹´ä¹°å…¥çš„æŠ•èµ„è€… **90%ä»¥ä¸Šå¤„äºäºæŸçŠ¶æ€**ã€‚\n    *   ä¸»åŠ›èµ„é‡‘æŒç»­æµå‡ºï¼Œæ¨æµ‹æœºæ„æˆæœ¬åŒºå¯èƒ½åœ¨ **250å…ƒä¸Šæ–¹**ï¼Œå½“å‰å¤„äºæœºæ„æ­¢æŸæˆ–è¢«åŠ¨å‡ä»“é˜¶æ®µã€‚\n*   **èªæ˜é’±åŠ¨å‘**ï¼š\n    *   åŒ—å‘/ä¸»åŠ›èµ„é‡‘å‘ˆç°å¤§å¹…å‡€æµå‡º (-17.83%)ï¼Œè¯´æ˜â€œèªæ˜é’±â€å¹¶ä¸è®¤å¯å½“å‰çš„æ€§ä»·æ¯”ï¼Œæˆ–è€…æ­£åœ¨è¿›è¡Œä»“ä½åˆ‡æ¢ã€‚\n*   **æœºæ„è§‚ç‚¹åˆ†æ­§**ï¼š\n    *   **åŸºæœ¬é¢å¤šå¤´**ï¼šçœ‹é‡ 90.8% çš„è¶…é«˜æ¯›åˆ©å’Œèƒ¶åŸè›‹ç™½èµ›é“çš„ç¨€ç¼ºæ€§ (ä¸“åˆ©æˆæƒ)ã€‚\n    *   **è¶‹åŠ¿ç©ºå¤´**ï¼šæ‹…å¿§é«˜ä¼°å€¼æ¶ˆåŒ–è¿‡ç¨‹åŠåŒ—äº¤æ‰€æµåŠ¨æ€§æŠ˜ä»·ã€‚ç›®å‰ç©ºå¤´åŠ›é‡å æ®ç»å¯¹ä¸»å¯¼ã€‚\n*   **ç»“è®º**ï¼šå¥½å…¬å¸ä¸ç­‰äºå¥½è‚¡ç¥¨ã€‚é”¦æ³¢ç”Ÿç‰©å±äºâ€œæè´¨ä¼˜ä½†æå¼±åŠ¿â€çš„æ ‡çš„ï¼Œéœ€ç­‰å¾…â€œä¼°å€¼åº•â€ä¸â€œå¸‚åœºåº•â€çš„å…±æŒ¯ï¼Œç›®å‰å°šæœªä¼ç¨³ã€‚"
}", aiScore: 58, deepInsight: "### ğŸ” æ·±åº¦ç ”æŠ¥ï¼šåŸºæœ¬é¢ä¸ç­¹ç åšå¼ˆ
*   **ä¸»åŠ›ç­¹ç åˆ†å¸ƒ**ï¼š
    *   å½“å‰è‚¡ä»· (221.39) è¿œä½äº MA120 (263) å’Œ MA250 (274)ï¼Œæ„å‘³ç€è¿‡å»åŠå¹´è‡³ä¸€å¹´ä¹°å…¥çš„æŠ•èµ„è€… **90%ä»¥ä¸Šå¤„äºäºæŸçŠ¶æ€**ã€‚
    *   ä¸»åŠ›èµ„é‡‘æŒç»­æµå‡ºï¼Œæ¨æµ‹æœºæ„æˆæœ¬åŒºå¯èƒ½åœ¨ **250å…ƒä¸Šæ–¹**ï¼Œå½“å‰å¤„äºæœºæ„æ­¢æŸæˆ–è¢«åŠ¨å‡ä»“é˜¶æ®µã€‚
*   **èªæ˜é’±åŠ¨å‘**ï¼š
    *   åŒ—å‘/ä¸»åŠ›èµ„é‡‘å‘ˆç°å¤§å¹…å‡€æµå‡º (-17.83%)ï¼Œè¯´æ˜â€œèªæ˜é’±â€å¹¶ä¸è®¤å¯å½“å‰çš„æ€§ä»·æ¯”ï¼Œæˆ–è€…æ­£åœ¨è¿›è¡Œä»“ä½åˆ‡æ¢ã€‚
*   **æœºæ„è§‚ç‚¹åˆ†æ­§**ï¼š
    *   **åŸºæœ¬é¢å¤šå¤´**ï¼šçœ‹é‡ 90.8% çš„è¶…é«˜æ¯›åˆ©å’Œèƒ¶åŸè›‹ç™½èµ›é“çš„ç¨€ç¼ºæ€§ (ä¸“åˆ©æˆæƒ)ã€‚
    *   **è¶‹åŠ¿ç©ºå¤´**ï¼šæ‹…å¿§é«˜ä¼°å€¼æ¶ˆåŒ–è¿‡ç¨‹åŠåŒ—äº¤æ‰€æµåŠ¨æ€§æŠ˜ä»·ã€‚ç›®å‰ç©ºå¤´åŠ›é‡å æ®ç»å¯¹ä¸»å¯¼ã€‚
*   **ç»“è®º**ï¼šå¥½å…¬å¸ä¸ç­‰äºå¥½è‚¡ç¥¨ã€‚é”¦æ³¢ç”Ÿç‰©å±äºâ€œæè´¨ä¼˜ä½†æå¼±åŠ¿â€çš„æ ‡çš„ï¼Œéœ€ç­‰å¾…â€œä¼°å€¼åº•â€ä¸â€œå¸‚åœºåº•â€çš„å…±æŒ¯ï¼Œç›®å‰å°šæœªä¼ç¨³ã€‚", isUnlocked: false, userId: ObjectId("697f682165c4c64af6565fa6"), createdAt: DateTime("2026-02-01 14:58:22.562 +00:00:00"), })
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f6a0e65c4c64af6565fa9"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, }, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
 POST /report/920982.BJ 200 in 48s (compile: 6ms, render: 48s)
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "920982.BJ", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-01-31 14:58:22.584 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $sort: { createdAt: -1, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
[DB HIT] Returning persisted report for 920982.BJ
 POST /report/920982.BJ 200 in 14ms (compile: 4ms, render: 10ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/920982.BJ 200 in 15ms (compile: 2ms, render: 13ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/920982.BJ 200 in 14ms (compile: 3ms, render: 12ms)
 GET /report/920982.BJ 200 in 244ms (compile: 130ms, render: 115ms)
 GET / 200 in 32ms (compile: 5ms, render: 27ms)
 GET / 200 in 230ms (compile: 2ms, render: 228ms)
 GET /report/920982.BJ 200 in 217ms (compile: 112ms, render: 104ms)
âœ“ Compiled in 42ms
 GET /sw.js 404 in 45ms (compile: 6ms, render: 39ms)
âœ“ Compiled in 52ms
âœ“ Compiled in 237ms
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/920982.BJ 200 in 432ms (compile: 348ms, render: 84ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, isVip: 1, freeQuotaUsed: 1, }, }, ])
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "920982.BJ", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-02-01 3:21:11.293 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
 POST /report/920982.BJ 200 in 14ms (compile: 4ms, render: 10ms)
 POST /report/920982.BJ 200 in 292ms (compile: 2ms, render: 290ms)
[FUNDAMENTALS] å¼€å§‹è·å–è´¢åŠ¡æ•°æ®: 920982
[FUNDAMENTALS] æ•°æ®è·å–æˆåŠŸ: 920982
 POST /report/920982.BJ 200 in 1267ms (compile: 17ms, render: 1250ms)
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "920982.BJ", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-01-31 15:21:12.903 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $sort: { createdAt: -1, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
[DB HIT] Returning persisted report for 920982.BJ
 POST /report/920982.BJ 200 in 15ms (compile: 5ms, render: 11ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/920982.BJ 200 in 14ms (compile: 5ms, render: 9ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/920982.BJ 200 in 8ms (compile: 1641Âµs, render: 6ms)
âœ“ Compiled in 125ms
âœ“ Compiled in 55ms
 GET /sw.js 404 in 70ms (compile: 15ms, render: 56ms)
 GET / 200 in 57ms (compile: 7ms, render: 50ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST / 200 in 38ms (compile: 3ms, render: 35ms)
 GET /api/proxy/search?q=xin%20t 200 in 3.0s (compile: 7ms, render: 3.0s)
 POST / 200 in 257ms (compile: 3ms, render: 253ms)
 GET /report/02400.HK 200 in 142ms (compile: 113ms, render: 29ms)
 GET /api/proxy/search?q=xi 200 in 3.0s (compile: 4ms, render: 3.0s)
 GET /api/proxy/search?q=xin%20o 200 in 3.0s (compile: 5ms, render: 3.0s)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/02400.HK 200 in 29ms (compile: 5ms, render: 23ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/02400.HK 200 in 13ms (compile: 1832Âµs, render: 11ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, isVip: 1, freeQuotaUsed: 1, }, }, ])
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "02400.HK", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-02-01 3:23:55.784 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
 POST /report/02400.HK 200 in 10ms (compile: 2ms, render: 8ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, isVip: 1, freeQuotaUsed: 1, }, }, ])
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "02400.HK", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-02-01 3:23:55.804 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
 POST /report/02400.HK 200 in 12ms (compile: 3ms, render: 9ms)
 POST /report/02400.HK 200 in 122ms (compile: 3ms, render: 119ms)
 POST /report/02400.HK 200 in 95ms (compile: 2ms, render: 92ms)
[FUNDAMENTALS] å¼€å§‹è·å–è´¢åŠ¡æ•°æ®: 02400
 GET /api/proxy/search?q=xin%20dong 200 in 3.0s (compile: 3ms, render: 3.0s)
[FUNDAMENTALS] æ•°æ®è·å–æˆåŠŸ: 02400
 POST /report/02400.HK 200 in 518ms (compile: 3ms, render: 515ms)
[FUNDAMENTALS] å¼€å§‹è·å–è´¢åŠ¡æ•°æ®: 02400
 GET /api/proxy/search?q=%E5%BF%83%E5%8A%A8 200 in 3.0s (compile: 3ms, render: 3.0s)
[FUNDAMENTALS] æ•°æ®è·å–æˆåŠŸ: 02400
 POST /report/02400.HK 200 in 252ms (compile: 4ms, render: 248ms)
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "02400.HK", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-01-31 15:23:56.862 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $sort: { createdAt: -1, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
[DB HIT] Returning persisted report for 02400.HK
 POST /report/02400.HK 200 in 9ms (compile: 3ms, render: 7ms)
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "02400.HK", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-01-31 15:23:56.872 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $sort: { createdAt: -1, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
[DB HIT] Returning persisted report for 02400.HK
 POST /report/02400.HK 200 in 10ms (compile: 1233Âµs, render: 9ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/02400.HK 200 in 7ms (compile: 1510Âµs, render: 5ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/02400.HK 200 in 8ms (compile: 1797Âµs, render: 6ms)
âœ“ Compiled in 42ms
âœ“ Compiled in 53ms
âœ“ Compiled in 43ms
âœ“ Compiled in 59ms
 GET /sw.js 404 in 43ms (compile: 11ms, render: 32ms)
âœ“ Compiled in 46ms
 GET /report/02400.HK 200 in 4.6s (compile: 1449ms, render: 3.1s)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/02400.HK 200 in 45ms (compile: 4ms, render: 40ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, isVip: 1, freeQuotaUsed: 1, }, }, ])
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "02400.HK", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-02-01 3:27:08.788 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
 POST /report/02400.HK 200 in 16ms (compile: 5ms, render: 11ms)
 POST /report/02400.HK 200 in 146ms (compile: 6ms, render: 140ms)
[FUNDAMENTALS] å¼€å§‹è·å–è´¢åŠ¡æ•°æ®: 02400
[FUNDAMENTALS] æ•°æ®è·å–æˆåŠŸ: 02400
 POST /report/02400.HK 200 in 617ms (compile: 3ms, render: 614ms)
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "02400.HK", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-01-31 15:27:09.616 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $sort: { createdAt: -1, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
[DB HIT] Returning persisted report for 02400.HK
 POST /report/02400.HK 200 in 11ms (compile: 3ms, render: 8ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/02400.HK 200 in 8ms (compile: 1555Âµs, render: 7ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/02400.HK 200 in 9ms (compile: 1793Âµs, render: 7ms)
 GET /report/02400.HK 200 in 176ms (compile: 120ms, render: 56ms)
 GET / 200 in 176ms (compile: 4ms, render: 172ms)
 GET / 200 in 163ms (compile: 3ms, render: 160ms)
 GET /report/02400.HK 200 in 154ms (compile: 114ms, render: 40ms)
 GET /sw.js 404 in 41ms (compile: 7ms, render: 35ms)
âœ“ Compiled in 563ms
 GET /sw.js 404 in 44ms (compile: 15ms, render: 29ms)
 GET / 200 in 59ms (compile: 9ms, render: 50ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST / 200 in 16ms (compile: 1306Âµs, render: 15ms)
 GET /api/proxy/search?q=%E5%B0%8F%E7%B1%B3 200 in 3.0s (compile: 19ms, render: 3.0s)
 GET /report/01810 200 in 32ms (compile: 11ms, render: 21ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/01810 200 in 24ms (compile: 3ms, render: 21ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/01810 200 in 20ms (compile: 1905Âµs, render: 18ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, isVip: 1, freeQuotaUsed: 1, }, }, ])
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "01810", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-02-01 4:03:26.458 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, }, }, ])
prisma:query db.User.updateMany({ _id: { $in: [ ObjectId("697f682165c4c64af6565fa6"), ], }, },[{ $set: { updatedAt: { $literal: DateTime("2026-02-01 16:03:26.46 +00:00:00"), }, }, },
{ $set: { freeQuotaUsed: { $add: [ "$freeQuotaUsed", 1, ], }, }, }])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, }, }, { $project: { _id: 1, phone: 1, createdAt: 1, updatedAt: 1, freeQuotaUsed: 1, isVip: 1, vipExpireDate: 1, }, }, ])
 POST /report/01810 200 in 13ms (compile: 1668Âµs, render: 11ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, isVip: 1, freeQuotaUsed: 1, }, }, ])
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "01810", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-02-01 4:03:26.501 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, }, }, ])
prisma:query db.User.updateMany({ _id: { $in: [ ObjectId("697f682165c4c64af6565fa6"), ], }, },[{ $set: { updatedAt: { $literal: DateTime("2026-02-01 16:03:26.504 +00:00:00"), }, }, },
{ $set: { freeQuotaUsed: { $add: [ "$freeQuotaUsed", 1, ], }, }, }])
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, }, }, { $project: { _id: 1, phone: 1, createdAt: 1, updatedAt: 1, freeQuotaUsed: 1, isVip: 1, vipExpireDate: 1, }, }, ])
 POST /report/01810 200 in 21ms (compile: 4ms, render: 17ms)
 POST /report/01810 200 in 184ms (compile: 1164Âµs, render: 183ms)
 POST /report/01810 200 in 98ms (compile: 3ms, render: 94ms)
[FUNDAMENTALS] å¼€å§‹è·å–è´¢åŠ¡æ•°æ®: 01810
[FUNDAMENTALS] æ•°æ®è·å–æˆåŠŸ: 01810
 POST /report/01810 200 in 653ms (compile: 3ms, render: 650ms)
[FUNDAMENTALS] å¼€å§‹è·å–è´¢åŠ¡æ•°æ®: 01810
[FUNDAMENTALS] æ•°æ®è·å–æˆåŠŸ: 01810
 POST /report/01810 200 in 337ms (compile: 5ms, render: 332ms)
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "01810", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-01-31 16:03:27.845 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $sort: { createdAt: -1, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
[RAG] Fetching news from: https://guba.eastmoney.com/list,01810.html
[AI REQUEST] Generating report for å°ç±³é›†å›¢-W...
[GEMINI REQUEST] Payload built with systemInstruction: true
[GEMINI RESPONSE DATA] {"candidates":[{"content":{"role":"model","parts":[{"text":"{\n  \"ai_score\": 42,\n  \"signal\": \"çœ‹ç©º (Bearish)\",\n  \"short_term\": {\n    \"timeframe\": \"çŸ­æœŸ (4-12å‘¨)\",\n    \"rationale\": \"è‚¡ä»·å¤„äºå…¸å‹çš„ç©ºå¤´æ’åˆ—ï¼ˆä»·æ ¼ < MA5 < MA20 < MA60ï¼‰ï¼ŒçŸ­æœŸè¶‹åŠ¿æå¼±ã€‚MA20 (36.98) æ„æˆç›´æ¥å‹åˆ¶ï¼ŒMACDæŒ‡æ ‡åœ¨é›¶è½´ä¸‹æ–¹è¿è¡Œä¸”æ•°å€¼ä¸ºè´Ÿ (-1.131)ï¼Œæ˜¾ç¤ºä¸‹è·ŒåŠ¨èƒ½å°šæœªè€—å°½ã€‚RSI (52.86) å¤„äºä¸­æ€§åŒºåŸŸï¼Œæ„å‘³ç€ä¸‹è·Œè¿‡ç¨‹ä¸­å¹¶æœªå‡ºç°æ˜æ˜¾çš„è¶…å–åå¼¹ä¿¡å·ï¼Œä»æœ‰ä¸‹è¡Œç©ºé—´ã€‚\",\n    \"key_levels\": {\n      \"support\": 34.20,\n      \"resistance\": 36.98,\n      \"stop_loss\": 33.00\n    }\n  },\n  \"long_term\": {\n    \"tim
[AI RESPONSE]Length: 2384 chars.Snippet: {
  "ai_score": 42,
  "signal": "çœ‹ç©º (Bearish)",
  "short_term": {
    "timeframe": "çŸ­æœŸ (4-12å‘¨)",
    
prisma:query db.AnalysisReport.insertOne({ stockCode: "01810", stockName: "å°ç±³é›†å›¢-W", type: "PRO", summary: "çœ‹ç©º (Bearish)", content: "{
  "ai_score": 42,
  "signal": "çœ‹ç©º (Bearish)",
  "short_term": {
    "timeframe": "çŸ­æœŸ (4-12å‘¨)",
    "rationale": "è‚¡ä»·å¤„äºå…¸å‹çš„ç©ºå¤´æ’åˆ—ï¼ˆä»·æ ¼ < MA5 < MA20 < MA60ï¼‰ï¼ŒçŸ­æœŸè¶‹åŠ¿æå¼±ã€‚MA20 (36.98) æ„æˆç›´æ¥å‹åˆ¶ï¼ŒMACDæŒ‡æ ‡åœ¨é›¶è½´ä¸‹æ–¹è¿è¡Œä¸”æ•°å€¼ä¸ºè´Ÿ (-1.131)ï¼Œæ˜¾ç¤ºä¸‹è·ŒåŠ¨èƒ½å°šæœªè€—å°½ã€‚RSI (52.86) å¤„äºä¸­æ€§åŒºåŸŸï¼Œæ„å‘³ç€ä¸‹è·Œè¿‡ç¨‹ä¸­å¹¶æœªå‡ºç°æ˜æ˜¾çš„è¶…å–åå¼¹ä¿¡å·ï¼Œä»æœ‰ä¸‹è¡Œç©ºé—´ã€‚",
    "key_levels": {
      "support": 34.20,
      "resistance": 36.98,
      "stop_loss": 33.00
    }
  },
  "long_term": {
    "timeframe": "é•¿æœŸ (6-12ä¸ªæœˆ)",
    "rationale": "é•¿æœŸè¶‹åŠ¿å·²å®Œå…¨èµ°åï¼Œç°ä»· (35.50) è¿œä½äºç‰›ç†Šåˆ†ç•Œçº¿ MA250 (48.74)ï¼Œå¤„äºæ·±åº¦å›è°ƒé˜¶æ®µã€‚å°½ç®¡ ROE (13.41%) æ˜¾ç¤ºå…¬å¸åŸºæœ¬é¢å°šå¯ï¼Œä½†å½“å‰ PE çº¦ä¸º 37å€ (35.5/0.95)ï¼Œåœ¨é•¿æœŸä¸‹è¡Œè¶‹åŠ¿ä¸­ä¼°å€¼ç¼ºä¹å®‰å…¨è¾¹é™…ã€‚éœ€ç­‰å¾…è‚¡ä»·ä¼ç¨³å¹¶é‡æ–°ç«™ä¸Š MA120 åæ–¹å¯è€ƒè™‘å³ä¾§å¸ƒå±€ã€‚",
    "key_levels": {
      "support": 30.00,
      "resistance": 45.88,
      "stop_loss": 28.50
    }
  },
  "data_evidence": {
    "capital_flow": "æ•°æ®ç¼ºå¤±ã€‚åŸºäºä»·æ ¼ä¸‹è·Œ 3.06% ä¸”ä½äºæ‰€æœ‰å‡çº¿ä¸‹æ–¹æ¨æ–­ï¼Œèµ„é‡‘å‘ˆç°å‡€æµå‡ºçŠ¶æ€ï¼Œä¹°ç›˜æ‰¿æ¥åŠ›ä¸è¶³ã€‚",
    "valuation": "å½“å‰å¸‚ç›ˆç‡(PE)çº¦ 37.3å€ï¼Œç»“åˆ 13.41% çš„ ROEï¼Œä¼°å€¼å¤„äºè¡Œä¸šä¸­é«˜ä½ï¼Œæ€§ä»·æ¯”ä¸€èˆ¬ã€‚",
    "technical_context": "å‡çº¿ç³»ç»Ÿå‘ˆç©ºå¤´æ’åˆ—ï¼Œä¸Šæ–¹å¥—ç‰¢ç›˜æ²‰é‡ (MA120/MA250 è¿œé«˜äºç°ä»·)ã€‚"
  },
  "technical": "### æŠ€æœ¯é¢æ·±åº¦è§£æ„\n\n*   **è¶‹åŠ¿çŠ¶æ€**: **æåº¦å¼±åŠ¿ (Strong Downtrend)**ã€‚è‚¡ä»·ä½äºæ‰€æœ‰ä¸»è¦å‡çº¿ (MA5, MA20, MA60, MA120, MA250) ä¸‹æ–¹ï¼Œè¿™æ˜¯å…¸å‹çš„ç©ºå¤´å½¢æ€ã€‚MA20 (36.98) å’Œ MA60 (39.65) å½¢æˆæ­»å‰å‘ä¸‹å‘æ•£ï¼Œæ„æˆäº†å±‚å±‚é˜»åŠ›ã€‚\n*   **åŠ¨é‡åˆ†æ**: MACD ä¸º -1.131ï¼Œå¤„äºæ°´ä¸‹æ­»å‰çŠ¶æ€ï¼Œè¡¨æ˜ç©ºå¤´ä¸»å¯¼å¸‚åœºã€‚RSI ä¸º 52.86ï¼Œå¤„äºä¸­æ€§ä½ç½®ï¼Œè¿™åœ¨ä¸‹è·Œè¶‹åŠ¿ä¸­æ˜¯ä¸€ä¸ªå±é™©ä¿¡å·ï¼Œæš—ç¤ºè‚¡ä»·ä¸‹è·Œå¹¶éå› ææ…Œæ€§æŠ›å”®å¯¼è‡´ï¼ˆæœªè¶…å–ï¼‰ï¼Œè€Œæ˜¯é˜´è·Œï¼Œåç»­å¯èƒ½è¿˜æœ‰è¡¥è·Œç©ºé—´ã€‚\n*   **ä¹–ç¦»ç‡**: ç°ä»·è·ç¦»å¹´çº¿ (MA250) åç¦»åº¦è¾ƒå¤§ï¼Œé•¿æœŸçœ‹æœ‰è¶…è·Œåå¼¹éœ€æ±‚ï¼Œä½†çŸ­æœŸç¼ºä¹æ­¢è·Œç»“æ„ã€‚",
  "sentiment": "### å¸‚åœºæƒ…ç»ªä¸èµ„é‡‘åˆ†æ\n\n*   **æƒ…ç»ª**: **æ‚²è§‚ (Pessimistic)**ã€‚è‚¡ä»·å•æ—¥ä¸‹è·Œé€¾ 3%ï¼Œä¸”æ— æ˜æ˜¾ä¸‹å½±çº¿æ”¯æ’‘ï¼Œæ˜¾ç¤ºå¸‚åœºä¿¡å¿ƒè„†å¼±ã€‚\n*   **ç­¹ç ç»“æ„**: ç”±äºç°ä»· (35.50) è¿œä½äº MA120 (45.88) å’Œ MA250 (48.74)ï¼Œæ„å‘³ç€è¿‡å»åŠå¹´è‡³ä¸€å¹´ä¹°å…¥çš„æŠ•èµ„è€…ç»å¤§éƒ¨åˆ†å¤„äºäºæŸçŠ¶æ€ã€‚ä¸Šæ–¹å­˜åœ¨å·¨å¤§çš„å¥—ç‰¢ç›˜å‹åŠ›ï¼Œä»»ä½•åå¼¹è‡³ 40-45 åŒºé—´éƒ½å°†é¢ä¸´è§£å¥—æŠ›å‹ã€‚\n*   **èµ„é‡‘åšå¼ˆ**: ç¼ºä¹ä¸»åŠ›èµ„é‡‘æŠ¤ç›˜è¿¹è±¡ï¼Œå½“å‰å±äºâ€œç©ºå¤´æ§ç›˜â€é˜¶æ®µã€‚",
  "plan": "### å®æˆ˜äº¤æ˜“è®¡åˆ’\n\n1.  **è§‚æœ›ä¸ºä¸» (Wait & See)**: å½“å‰ä¸å®œç›²ç›®æŠ„åº•ã€‚è‚¡ä»·å¤„äºâ€œé£åˆ€â€ä¸‹è½é˜¶æ®µï¼Œæœªè§åº•éƒ¨å½¢æ€ï¼ˆå¦‚åŒåº•ã€å¤´è‚©åº•ï¼‰ã€‚\n2.  **çŸ­æœŸåšå¼ˆ (é«˜é£é™©)**: ä»…å½“è‚¡ä»·æ”¾é‡çªç ´ MA5 (35.84) ä¸”ç«™ç¨³ 36.00 æ—¶ï¼Œå¯å°è¯•æè½»ä»“çŸ­å¤šï¼Œç›®æ ‡çœ‹è‡³ MA20 (36.98)ï¼Œæ­¢æŸè®¾åœ¨ 34.50ã€‚\n3.  **é•¿æœŸå¸ƒå±€**: è€å¿ƒç­‰å¾…è‚¡ä»·å›è½è‡³ 30.00-32.00 ä¼°å€¼æ”¯æ’‘åŒºï¼Œæˆ–ç­‰å¾…è‚¡ä»·æœ‰æ•ˆçªç ´ MA60 (39.65) æ‰­è½¬ä¸­æœŸè¶‹åŠ¿åå†è¿›åœºã€‚å½“å‰ä½ç½®â€œæ¥é£åˆ€â€é£é™©æ”¶ç›Šæ¯”æä½ã€‚",
  "risk": "### é£é™©æç¤º\n\n*   **è¶‹åŠ¿å»¶ç»­é£é™©**: å‡çº¿ç©ºå¤´æ’åˆ—æœªæ”¹ï¼Œä¸‹è·Œè¶‹åŠ¿å¯èƒ½è‡ªæˆ‘å¼ºåŒ–ï¼Œä¸‹æ–¹æ”¯æ’‘ä»…ä¸ºé¢„ä¼°ï¼Œå¯èƒ½è¢«å‡»ç©¿ã€‚\n*   **ä¼°å€¼å‹ç¼©é£é™©**: è‹¥å¸‚åœºæ•´ä½“é£é™©åå¥½ä¸‹é™ï¼Œ37å€ PE çš„ä¼°å€¼å¯èƒ½é¢ä¸´æ€ä¼°å€¼å‹åŠ›ï¼Œå›å½’è‡³ 25-30å€ PE åŒºé—´ã€‚\n*   **å¥—ç‰¢ç›˜æŠ›å‹**: å³ä½¿åå¼¹ï¼Œä¸Šæ–¹ 40-48 å…ƒåŒºé—´å †ç§¯äº†å¤§é‡å†å²å¥—ç‰¢ç­¹ç ï¼Œåå¼¹é«˜åº¦å—é™ã€‚",
  "deep_insight": "### æ·±åº¦ç ”æŠ¥å†…å®¹ (Institutional Insight)\n\n*   **ä¸»åŠ›ç­¹ç åˆ†å¸ƒ**: ä¼°ç®—ä¸»åŠ›æœºæ„å¹³å‡æŒä»“æˆæœ¬è¿œé«˜äºç°ä»· (çº¦åœ¨ 42-45å…ƒåŒºé—´)ã€‚å½“å‰è‚¡ä»·æ„å‘³ç€ä¸»åŠ›èµ„é‡‘ä¹Ÿè¢«æ·±å¥—æˆ–å·²åœ¨å‰æœŸé«˜ä½å‡ä»“ç¦»åœºã€‚ç›®å‰å¸‚åœºä¸»è¦ç”±æ•£æˆ·å’Œæ¸¸èµ„ä¸»å¯¼ï¼Œç¼ºä¹é•¿çº¿å¤§èµ„é‡‘å…³ç…§ã€‚\n*   **Smart Money åŠ¨å‘**: åœ¨ç¼ºä¹æ˜ç¡®èµ„é‡‘æµæ•°æ®çš„æƒ…å†µä¸‹ï¼Œç»“åˆ MACD æ°´ä¸‹è¿è¡Œç‰¹å¾ï¼Œæ¨æµ‹â€œèªæ˜é’±â€å¤„äºå‡€æµå‡ºæˆ–è§‚æœ›çŠ¶æ€ï¼Œæœªå‡ºç°æ˜æ˜¾çš„å·¦ä¾§å¸ç­¹è¿¹è±¡ã€‚\n*   **æœºæ„è§‚ç‚¹åˆ†æ­§**: è™½ç„¶åŸºæœ¬é¢ ROE ç»´æŒåœ¨ 13% çš„å¥åº·æ°´å¹³ï¼Œä½†å¸‚åœºå¯¹ç¡¬ä»¶ä¸šåŠ¡å¢é•¿ç“¶é¢ˆå’Œé€ è½¦ä¸šåŠ¡æŠ•å…¥çš„æ‹…å¿§å¯èƒ½å‹åˆ¶äº†ä¼°å€¼ã€‚æœºæ„å…±è¯†ç›®å‰å€¾å‘äºâ€œå›é¿é£é™©â€ï¼Œç­‰å¾…ä¸šç»©æ‹ç‚¹æˆ–æŠ€æœ¯é¢å³ä¾§ä¿¡å·ã€‚"
}", aiScore: 42, deepInsight: "### æ·±åº¦ç ”æŠ¥å†…å®¹ (Institutional Insight)

*   **ä¸»åŠ›ç­¹ç åˆ†å¸ƒ**: ä¼°ç®—ä¸»åŠ›æœºæ„å¹³å‡æŒä»“æˆæœ¬è¿œé«˜äºç°ä»· (çº¦åœ¨ 42-45å…ƒåŒºé—´)ã€‚å½“å‰è‚¡ä»·æ„å‘³ç€ä¸»åŠ›èµ„é‡‘ä¹Ÿè¢«æ·±å¥—æˆ–å·²åœ¨å‰æœŸé«˜ä½å‡ä»“ç¦»åœºã€‚ç›®å‰å¸‚åœºä¸»è¦ç”±æ•£æˆ·å’Œæ¸¸èµ„ä¸»å¯¼ï¼Œç¼ºä¹é•¿çº¿å¤§èµ„é‡‘å…³ç…§ã€‚
*   **Smart Money åŠ¨å‘**: åœ¨ç¼ºä¹æ˜ç¡®èµ„é‡‘æµæ•°æ®çš„æƒ…å†µä¸‹ï¼Œç»“åˆ MACD æ°´ä¸‹è¿è¡Œç‰¹å¾ï¼Œæ¨æµ‹â€œèªæ˜é’±â€å¤„äºå‡€æµå‡ºæˆ–è§‚æœ›çŠ¶æ€ï¼Œæœªå‡ºç°æ˜æ˜¾çš„å·¦ä¾§å¸ç­¹è¿¹è±¡ã€‚
*   **æœºæ„è§‚ç‚¹åˆ†æ­§**: è™½ç„¶åŸºæœ¬é¢ ROE ç»´æŒåœ¨ 13% çš„å¥åº·æ°´å¹³ï¼Œä½†å¸‚åœºå¯¹ç¡¬ä»¶ä¸šåŠ¡å¢é•¿ç“¶é¢ˆå’Œé€ è½¦ä¸šåŠ¡æŠ•å…¥çš„æ‹…å¿§å¯èƒ½å‹åˆ¶äº†ä¼°å€¼ã€‚æœºæ„å…±è¯†ç›®å‰å€¾å‘äºâ€œå›é¿é£é™©â€ï¼Œç­‰å¾…ä¸šç»©æ‹ç‚¹æˆ–æŠ€æœ¯é¢å³ä¾§ä¿¡å·ã€‚", isUnlocked: false, userId: ObjectId("697f682165c4c64af6565fa6"), createdAt: DateTime("2026-02-01 16:04:12.745 +00:00:00"), })
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f797c65c4c64af6565faa"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, }, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
 POST /report/01810 200 in 45s (compile: 4ms, render: 45s)
prisma:query db.AnalysisReport.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $eq: [ "$userId", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$userId", "$$REMOVE", ], }, ], }, { $and: [ { $eq: [ "$stockCode", { $literal: "01810", }, ], }, { $ne: [ "$stockCode", "$$REMOVE", ], }, ], }, { $and: [ { $gt: [ "$createdAt", { $literal: DateTime("2026-01-31 16:04:12.796 +00:00:00"), }, ], }, { $ne: [ "$createdAt", "$$REMOVE", ], }, ], }, ], }, }, }, { $sort: { createdAt: -1, }, }, { $limit: 1, }, { $project: { _id: 1, stockCode: 1, stockName: 1, type: 1, summary: 1, content: 1, aiScore: 1, deepInsight: 1, isUnlocked: 1, userId: 1, createdAt: 1, }, }, ])
[DB HIT] Returning persisted report for 01810
 POST /report/01810 200 in 26ms (compile: 12ms, render: 14ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/01810 200 in 17ms (compile: 3ms, render: 14ms)
prisma:query db.User.aggregate([ { $match: { $expr: { $and: [ { $and: [ { $and: [ { $eq: [ "$_id", { $literal: ObjectId("697f682165c4c64af6565fa6"), }, ], }, { $ne: [ "$_id", "$$REMOVE", ], }, ], }, ], }, { }, ], }, }, }, { $project: { _id: 1, phone: 1, freeQuotaUsed: 1, isVip: 1, }, }, ])
 POST /report/01810 200 in 16ms (compile: 4ms, render: 12ms)
